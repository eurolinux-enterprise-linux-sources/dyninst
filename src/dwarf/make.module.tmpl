# 
# Common makefile template for the dyninstAPI library.  This file is not
# intended to be a useful Makefile in isolation; instead, it should be
# included from within an architecture-specific Makefile.
#
# $Id: make.module.tmpl,v 1.40 2008/06/19 22:13:41 jaw Exp $
#

SUITE_NAME	= dynDwarf 


#BUILD_MARK should be (re-)defined in core/make.config.local rather than here!

DEFINES		     +=  

USES_DWARF_DEBUG = true
USES_LIBELF = true

CFLAGS		     += $(USEFULWARNINGS) $(DEFINES)
CXXFLAGS	     += $(USEFULWARNINGS) $(DEFINES)
TFLAGS		     += $(TCLFRIENDLYWARNINGS) $(DEFINES)

ifndef TARGET
ifndef STATIC_COMPS
TARGET		= libdynDwarf.so
else
TARGET      = libdynDwarf.a
endif
endif

MYFLAGS += -DlibdynDwarf

LDFLAGS     += $(LIBDIR)
LD		= $(GXX)
LDFLAGS		+= -shared $(G_PTHREAD_LD)
CFLAGS		+= 
CXXFLAGS	+=  $(G_PTHREAD)
TFLAGS		+= 


SRCS	     +=	../src/dwarfResult.C \
                ../src/dwarfExprParser.C \
                ../src/dwarfFrameParser.C \
					../src/dwarfHandle.C

TO_INC          = ../h

IFLAGS       += -I../$(PLATFORM) -I../src -I../h 
